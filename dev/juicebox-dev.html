<!DOCTYPE html>
<!--
  ~  The MIT License (MIT)
  ~
  ~ Copyright (c) 2016-2017 The Regents of the University of California
  ~
  ~ Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
  ~ associated documentation files (the "Software"), to deal in the Software without restriction, including
  ~ without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  ~ copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the
  ~ following conditions:
  ~
  ~ The above copyright notice and this permission notice shall be included in all copies or substantial
  ~ portions of the Software.
  ~
  ~ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
  ~ BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,  FITNESS FOR A PARTICULAR PURPOSE AND
  ~ NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
  ~ CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
  ~ ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  ~ THE SOFTWARE.
  ~
  -->

<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <title>Juicebox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="icon" type="image/png" href="http://aidenlab.org/favicon.ico">

    <!-- Shims for legacy browsers -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.35.3/es6-shim.js"></script>

    <!-- Font Awesome CSS-->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <!-- Bootstrap-Select Plugin CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.10.16/sc-1.4.3/datatables.min.css"/>

    <!-- IGV CSS -->
    <link rel="stylesheet" href="../examples/site/css/igv.css">

    <!-- site CSS -->
    <link rel="stylesheet" href="../examples/site/css/site.css">

    <!-- Juicebox CSS-->
    <link rel="stylesheet" href="../css/juicebox.css">

    <!-- JQuery JS -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

    <!-- Datatables JS -->
    <script src="https://cdn.datatables.net/v/dt/dt-1.10.16/sc-1.4.3/datatables.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- Bootstrap-Select Plugin JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

    <!-- Datatables JS -->
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

    <!-- Twitter -->
    <script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

    <!-- IGV JS -->
    <script src="../examples/site/js/igv.js"></script>

    <!-- Vector JS -->
    <script src="../vendor/jquery-ui.js"></script>
    <script src="../vendor/underscore.js"></script>
    <script src="../vendor/throbber.js"></script>
    <script src="../vendor/colors.js"></script>

    <!-- Site JS-->
    <script src="../examples/site/js/site.js"></script>
    <script src="../examples/site/js/modalTable.js"></script>

    <!-- Juicebox JS -->
    <script src="../js/annotationWidget.js"></script>
    <script src="../js/genome.js"></script>
    <script src="../js/hicUtils.js"></script>
    <script src="../js/hicReader.js"></script>
    <script src="../js/hicColorScaleWidget.js"></script>
    <script src="../js/hicLocusGoto.js"></script>
    <script src="../js/hicResolutionSelector.js"></script>
    <script src="../js/hicBrowser.js"></script>
    <script src="../js/contactMatrixView.js"></script>
    <script src="../js/hicRuler.js"></script>
    <script src="../js/eventBus.js"></script>
    <script src="../js/scrollbarWidget.js"></script>
    <script src="../js/sweepZoom.js"></script>
    <script src="../js/hicState.js"></script>
    <script src="../js/hicDataset.js"></script>
    <script src="../js/normalizationVector.js"></script>
    <script src="../js/normalizationWidget.js"></script>
    <script src="../js/chromosomeSelectorWidget.js"></script>
    <script src="../js/layoutController.js"></script>
    <script src="../js/trackRenderer.js"></script>
    <script src="../js/trackMenuReplacement.js"></script>
    <script src="../js/geneSearch.js"></script>
    <script src="../js/hicTrack2D.js"></script>
</head>

<body>

<!-- Share URL Modal -->
<div id="hic-share-url-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="hic-share-url-modal-label"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button id="hic-share-url-modal-close-button" type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 id="hic-share-url-modal-label" class="modal-title">
                    Share
                </h4>
            </div>

            <div class="modal-body">
                <div class="container-fluid">

                    <!-- copy url -->
                    <div class="row">
                        <div class="col-md-9">
                            <div class="form-group">
                                <input id="hic-share-url" type="text" class="form-control" placeholder="">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <button id="hic-copy-link" type="button" class="btn btn-default">
                                COPY
                            </button>
                        </div>
                    </div>

                    <!-- social buttons -->
                    <div class="hic-social-button-container">

                        <div id="tweetButtonContainer">
                            <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-show-count="false">TWEET</a>
                        </div>

                        <div id="emailButtonContainer">
                            <a id="emailButton" href="mailto:?body=https://aidenlab.org/juicebox">
                                EMAIL
                            </a>
                        </div>

                        <div id="hic-embed-button">
                            EMBED
                        </div>

                    </div>

                    <!-- embed widget -->
                    <div id="hic-embed-container" class="row">
                        <div class="col-md-9 form-group">
                            <textarea id="hic-embed" class="form-control" rows="4">
                            </textarea>
                        </div>
                        <div class="col-md-3">
                            <button id="hic-embed-copy-link" type="button" class="btn btn-default">
                                COPY
                            </button>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

<!-- ENCODE Modal -->
<div id="hicEncodeModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog"
     aria-labelledby="encodeModalLabel" aria-hidden="true">

    <div class="modal-dialog modal-lg">

        <div class="modal-content">

            <div class="modal-header"><!-- modal header -->

                <button id="encodeModalTopCloseButton" type="button" class="close" data-dismiss="modal"><!-- close -->
                    <span aria-hidden="true">Ã—</span>
                    <span class="sr-only">Close</span>
                </button>

                <h4 class="modal-title" id="encodeModalLabel">Load Tracks from ENCODE</h4><!-- modal title -->

            </div>

            <div id="encodeModalBody" class="modal-body"><!-- modal body -->
            </div>

            <div class="modal-footer">
                <button id="encodeModalBottomCloseButton" type="button" class="btn btn-default" data-dismiss="modal">
                    Close
                </button>
                <button id="encodeModalGoButton" type="button" class="btn btn-primary" data-dismiss="modal">Go</button>
            </div>


        </div>

    </div>
    <

</div>

<!-- Annotation Select Modal -->
<div id="hic-annotation-select-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="hic-annotation-select-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="hic-annotation-select-modal-label">Annotations</h4>
            </div>

            <div class="modal-body">

                <div class="form-group">
                    <select id="annotation-selector" name="annotation-selector" class="form-control"
                            title="Select Annotation">

                    </select>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 2DAnnotation Select Modal -->
<div id="hic-annotation-2D-select-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="hic-annotation-select-2D-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="hic-annotation-select-2D-modal-label">2D Annotations</h4>
            </div>

            <div class="modal-body">

                <div class="form-group">
                    <select id="annotation-2D-selector" name="annotation-2D-selector" class="form-control"
                            title="Select 2D Annotation">

                    </select>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Contact Map Select Modal -->
<div id="hic-contact-map-select-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="hic-contact-map-select-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="hic-contact-map-select-modal-label">Select Contact Map</h4>
            </div>

            <div class="modal-body">
                <div class="form-group">
                    <select id="dataset_selector" name="dataset_selector" class="form-control selectpicker" data-size="25" data-width="100%" data-live-search="true" title="Select contact map">
                    </select>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Load Local File Modal -->
<div id="hic-load-local-file-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="hic-load-local-file-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="hic-load-local-file-modal-label">Load Local File</h4>
            </div>

            <div class="modal-body">

                <div class="form-group">
                    <input id="hic-load-local-file" type="file" title="Load Local File"/>
                </div>

            </div>

        </div>
    </div>
</div>

<!-- Load URL Modal -->
<div id="hic-load-url-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="hic-load-url-modal-label"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 id="hic-load-url-modal-label" class="modal-title">Load URL</h4>
            </div>

            <div class="modal-body">

                <div class="form-group">
                    <input id="hic-load-url" type="text" class="form-control" placeholder="Enter URL">
                </div>

            </div>

        </div>
    </div>
</div>

<!-- Track URL Modal  -- exact copy of hic load url modal, but need to distinguish -->
<div id="track-load-url-modal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="track-load-url-modal-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 id="track-load-url-modal-label" class="modal-title">Load URL</h4>
            </div>

            <div class="modal-body">

                <div class="form-group">
                    <input id="track-load-url" type="text" class="form-control" placeholder="Enter URL">
                </div>

            </div>

        </div>
    </div>
</div>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://www.aidenlab.org/index.html" class="navbar-brand" target="_blank">Aiden Lab</a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">About<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="http://www.aidenlab.org/aboutus.html" target="_blank">Team</a></li>
                        <li><a href="http://news.tc4ga.com/" target="_blank">News</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Research <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="http://www.aidenlab.org/research.html" target="_blank">Projects</a></li>
                        <li><a href="http://www.aidenlab.org/publications.html" target="_blank">Publications</a></li>
                        <li><a href="http://www.aidenlab.org/software.html" target="_blank">Software</a></li>
                        <li><a href="http://www.aidenlab.org/documentation.html" target="_blank">Documentation</a></li>
                        <li><a href="http://www.aidenlab.org/data.html" target="_blank">Data</a></li>
                    </ul>
                </li>
                <li><a href="http://www.aidenlab.org/join.html" target="_blank">Join</a></li>
                <li><a href="http://www.aidenlab.org/contactus.html" target="_blank">Contact</a></li>
                <li><a href="http://www.aidenlab.org/forum.html" target="_blank">Forum</a></li>
            </ul>
        </nav>
    </div>
</nav>

<div class="container-fluid">

    <!-- Empty row (a shim, basically) -->
    <div class="row">
        <div class="col-md-12">
            <h1>&nbsp;</h1>
        </div>
    </div>

    <!-- Modal presentation buttons -->
    <div class="row">

        <div class="col-md-12">

            <!-- Contact Map: Select | Local File | URL -->
            <div class="dropdown site-widget">

                <button id="hic-contact-map-dropdown" class="btn btn-default dropdown-toggle" type="button"
                        data-toggle="dropdown">
                    Load Contact Map &nbsp;
                    <span class="caret"></span>
                </button>

                <ul class="dropdown-menu" role="menu" aria-labelledby="hic-contact-map-dropdown">

                    <li role="presentation"><!-- Select Contact Map -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal"
                           data-target="#hic-contact-map-select-modal">
                            Select Contact Map
                        </a>
                    </li><!-- Select Contact Map -->

                    <li role="presentation"><!-- Local Contact Map File -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal"
                           data-target="#hic-load-local-file-modal">
                            Local Contact Map File
                        </a>
                    </li><!-- Local Contact Map File -->

                    <li role="presentation"><!-- Contact Map URL -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal" data-target="#hic-load-url-modal">
                            Contact Map URL
                        </a>
                    </li><!-- Contact Map URL -->

                </ul>

            </div>

            <!-- Track File: ENCODE | Annotations | Local File | URL -->
            <div class="dropdown site-widget">

                <button id="hic-track-dropdown" class="btn btn-default dropdown-toggle" type="button"
                        data-toggle="dropdown">
                    Load Tracks &nbsp;
                    <span class="caret"></span>
                </button>

                <ul class="dropdown-menu" role="menu" aria-labelledby="hic-track-dropdown">

                    <li role="presentation"><!-- Select ENCODE -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal" data-target="#hicEncodeModal">
                            ENCODE
                        </a>
                    </li><!-- Select ENCODE -->

                    <li role="presentation"><!-- Select Annotations -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal"
                           data-target="#hic-annotation-select-modal">
                            Genome Annotations
                        </a>
                    </li><!-- Select Annotations -->

                    <li role="presentation"><!-- Select Annotations -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal"
                           data-target="#hic-annotation-2D-select-modal">
                            2D Annotations
                        </a>
                    </li><!-- Select 2D Annotations -->

                    <li role="presentation"><!-- Local Track File -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal"
                           data-target="#hic-load-local-file-modal">
                            Local Track File
                        </a>
                    </li><!-- Local Track File -->

                    <li role="presentation"><!-- Track URL -->
                        <a role="menuitem" tabindex="-1" href="#" data-toggle="modal"
                           data-target="#track-load-url-modal">
                            Track URL
                        </a>
                    </li><!-- Track URL -->

                </ul>

            </div>

            <!-- Share (generate URL) -->
            <div class="site-widget" title="Share">
                <button id="hic-share-button" class="btn btn-default" type="button" data-toggle="modal"
                        data-target="#hic-share-url-modal">
                    Share
                </button>
            </div>

            <!-- App clone button -->
            <div class="juicebox-app-clone-button site-widget" title="Add Map Panel">
                <i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i>
            </div>

        </div>

    </div>

    <!-- App container -->
    <div class="row">
        <div class="col-md-12">
            <div id="app-container" class="juicebox-app-clone-container">
            </div>
        </div>
    </div>

    <div class="row header">
        <div class="col-md-offset-2 col-md-8 col-md-offset-2" align="center">
            <br>
            <h4><a href="https://github.com/igvteam/juicebox.js" target="_blank">Juicebox.js</a> is cloud-based
                visualization software for Hi-C data created by <a href="https://github.com/jrobinso" target="_blank">Jim
                    Robinson</a> and <a href="https://github.com/turner" target="_blank">Douglass Turner</a> of the <a
                        href="http://igv.org" target="_blank">IGV</a> team, in collaboration with <a
                        href="https://github.com/nchernia" target="_blank">Neva C. Durand</a> and the <a
                        href="http://aidenlab.org" target="_blank">Aiden Lab</a>. You can also download a full-fledged
                <a href="https://github.com/theaidenlab/juicebox/wiki/Download" target="_blank">desktop version of
                    Juicebox</a>.</h4><br><br>
            <h4>If you use Juicebox in your research, please cite:</h4><br>
            <h4>Neva C. Durand*, James T. Robinson*, Muhammad S. Shamim, Ido Machol, Jill P. Mesirov, Eric S. Lander,
                and Erez Lieberman Aiden. <em>"Juicebox provides a visualization system for Hi-C contact maps with
                    unlimited zoom."</em> <i>Cell Systems</i> 3(1), 2016.</h4><br><br>
        </div>
    </div>

</div>

<div id="footer-white" style="background:#414B5B;">
    <div class="container">
        <div class="row" align="center">
            <div class="newsletter" style="width:60%;">
                <div class="signup clearfix">
                    <p style="text-align:center;">
                        Sign up for our newsletter and we'll inform you of updates on projects in the lab.
                    </p>
                    <form role="form" id="newsletter-form" method="post" action="../newsletter.php">
                        <input type="text" name="email" class="form-control" placeholder="Your email address">
                        <input type="submit" name="submit" value="Sign up">
                    </form>
                </div>
            </div>
        </div>
        <div class="row credits">
            <div class="col-md-12">
                Copyright Â© 2017. Aiden Lab
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {

        var config = {
            mapMenu: {
                id: 'dataset_selector',
                items: '../examples/site/data/mapMenuData.txt'
            },
            apiKey: "AIzaSyDUUAUFpQEN4mumeMNIRWXSiTh5cPtUAD0",
            embedTarget: "http://aidenlab.org/juicebox/embed/embed.html"
        };

        juicebox.init($('#app-container'), config);
    });

</script>

</body>

</html>
